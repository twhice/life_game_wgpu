# 康威生命游戏

`rust` + `wgpu` 的实现

* 纯GPU运算

* 能够移动和缩放视角

# 编译 && 运行

``` bash
cargo build
cargo run
```

# 操作方法

|按键   | 行为     |
|---    |---       |
| W     |向左移动视角|
| S     |向右移动视角|
| A     |向上移动视角|
| D     |向下移动视角|
| N     |演化一次生命|
| Esc   |退出       |
| Space |按住space，每帧演化一次|
| 鼠标滚轮| 缩放视角 |

# 技术简介

生成两个纹理，称为`A`，`B`，作为地图

有一个变量`X`，为`true`或者`false`

## 在显示时：

使用两个三角形组成正方形，然后在它上面显示一个图片

`X`为`true`时，显示地图`A`

`X`为`false`时，显示地图`B`

见 `src/shader.wgsl`，`src/render.rs`

## 在演化时

使用计算管线，传入两个纹理，分别作为读取和写入的纹理

按照`生命游戏`的规则对被读取的纹理上的每一个像素进行计算，结果写入被写入纹理对应位置上的像素

`X`为`true`时，读取`A`写入`B`

`X`为`false`时，读取`B`写入`A`

然后翻转`X`(`X` = `!X`)

见 `src/compute.wgsl`，`src/computers`

# 已知问题

* 在不支持`计算管线`的设备上无法运行

* 无法进行交互，你只能做一切的旁观者

* 初始地图是硬编码在代码中的

* 地图大小受限于`GPU支持的最大贴图尺寸`

# 许可证

Apache-2.0

见`LICENSE`文件